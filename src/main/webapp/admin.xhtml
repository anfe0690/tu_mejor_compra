<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
	<!-- TODO 04: Implementar la pagina de Admin -->
    <h:head>
        <title>Admin</title>
    </h:head>
    <h:body>

		<c:choose>
			<c:when test="#{adminBean.identificado}">
				<h1><h:outputText value="Administrador"/></h1>
				<h:form>
					<c:choose>
						<c:when test="#{adminBean.baseDeDatosLimpiada}">
							<p>Base de datos limpia.</p>
						</c:when>
						<c:otherwise>
							<h:commandButton value="Limpiar base de datos" action="#{adminBean.limpiarBaseDeDatos()}" /><br/>
						</c:otherwise>
					</c:choose>
					<h:commandButton value="Limpiar y restaurar base de datos" action="#{adminBean.limpiarRestaurarBaseDeDatos()}" /> 
				</h:form> 
			</c:when>
			<c:otherwise>
				<h:form>
					<h1><h:outputText value="Identifiquese como administrador" /></h1>
					<h:outputLabel for="pass" value="ContraseÃ±a" />
					<h:inputSecret id="pass" redisplay="false" value="#{adminBean.password}" />
					<h:commandButton value="Enviar" action="#{adminBean.identificarse()}" />
				</h:form>
			</c:otherwise>
		</c:choose>
	</h:body>
</html>
