<ui:composition template="WEB-INF/layout/layout.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
	<ui:define name="title">Crear producto</ui:define>
	<ui:define name="css">
		<h:outputStylesheet library="css" name="crear_producto.css"/>
	</ui:define>
	<ui:define name="js">
		<h:outputScript library="js" name="crear_producto.js"/>
	</ui:define>
	<ui:define name="content">
		<f:event type="preRenderView" listener="#{sesionBean.redireccionarSinSesion}"/>
		<section class="tema b-crear_producto">
			<h1 class="titulo-bloque">Crear Producto</h1>
			<h:form id="form_crear_producto" enctype="multipart/form-data" >
				<div class="row">
					<div class="col-md-6 control-imagen">
						<h:graphicImage styleClass="imagen" id="imagen" library="images" name="sel-imagen.png" />
						<br/>
						<h:message id="error-archivo" for="file" styleClass="mensaje-error crear-producto-error"
								   showSummary="true"
								   showDetail="false"/>

						<div class="altura-linea cont-selector-imagen">
							<h:inputFile styleClass="selector-imagen" id="file" value="#{crearProducto.file}"
										 p:required="required"
										 p:accept="image/*"
										 validator="#{crearProducto.validarImagenProducto}">
								<f:ajax event="change" render="error-archivo" />
							</h:inputFile>
						</div>
					</div>
					<div class="col-md-6 control-datos">
						<p class="etiqueta-campo">Nombre de producto</p>
						<h:message id="error-nombre" for="nombre-producto" styleClass="mensaje-error crear-producto-error"
								   showSummary="true" showDetail="false"/>
						<div class="altura-linea espacio-campo">
							<h:inputText styleClass="nombre-producto" id="nombre-producto" value="#{crearProducto.nombre}"
										 p:required="required"
										 p:placeholder="Nombre de producto"
										 validator="#{crearProducto.validarNombreProducto}">
								<f:ajax render="error-nombre" />
							</h:inputText>
						</div>
						<p class="etiqueta-campo">Precio (Pesos)</p>
						<h:message id="error-precio" for="precio-producto" styleClass="mensaje-error crear-producto-error"
								   showSummary="true" showDetail="false"/>
						<div class="altura-linea espacio-campo">
							<h:inputText styleClass="precio-producto" id="precio-producto" value="#{crearProducto.precio}"
										 p:required="required"
										 p:placeholder="Precio de producto"
										 validator="#{crearProducto.validarPrecioProducto}">
								<f:ajax render="error-precio" />
							</h:inputText>
						</div>
						<p class="etiqueta-campo">Categoria</p>
						<div class="altura-linea">
							<h:selectOneMenu styleClass="categoria" value="#{crearProducto.categoria}">
								<f:selectItem itemLabel="Telefono inteligente" itemValue="TELEFONOS_INTELIGENTES"/>
								<f:selectItem itemLabel="Consolas de video juegos" itemValue="CONSOLAS_VIDEO_JUEGOS"/>
								<f:selectItem itemLabel="Tabletas" itemValue="TABLETAS"/>
							</h:selectOneMenu>
						</div>
					</div>
				</div>
				<div class="altura-linea">
					<h:commandButton styleClass="boton-submit" value="Crear" >
						<f:ajax execute="@form" listener="#{crearProducto.crearProducto()}" />
					</h:commandButton>
				</div>
			</h:form>
		</section>
	</ui:define>
</ui:composition>