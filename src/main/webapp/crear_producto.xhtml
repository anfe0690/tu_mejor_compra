<ui:composition template="WEB-INF/layout/layout.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
	<ui:define name="title">Crear producto</ui:define>
	<ui:define name="css">
		<h:outputStylesheet library="css" name="crear_producto.css"/>
	</ui:define>
	<ui:define name="js">
		<h:outputScript library="js" name="crear_producto.js"/>
	</ui:define>
	<ui:define name="content">
		<f:event type="preRenderView" listener="#{sesionBean.redireccionarSinSesion}"/>
		<section class="tema b-crear_producto">
			<h1>Crear Producto</h1>
			<h:form id="form_crear_producto" enctype="multipart/form-data" >
				<div>
					<div class="control-imagen">
						<div class="marco-imagen">
							<h:graphicImage styleClass="imagen" id="imagen" library="images" name="sel-imagen.png" />
						</div>
						<!-- TODO 096: Crear automaticamente el nombre del archivo de imagen para evitar conflictos con otros -->
						<h:message for="file" styleClass="mensaje-error crear-producto-error" showSummary="true" showDetail="false"/>
						<h:inputFile id="file" value="#{crearProducto.file}" p:required="required" p:accept="image/*"
									 validator="#{crearProducto.validarImagenProducto}"/>
					</div>
					<div class="control-datos">
						<p class="etiqueta-nombre-producto">Nombre de producto</p>
						<h:message for="nombre-producto" styleClass="mensaje-error crear-producto-error" showSummary="true" showDetail="false"/>
						<h:inputText styleClass="nombre-producto" id="nombre-producto" value="#{crearProducto.nombre}" p:required="required"
									 validator="#{crearProducto.validarNombreProducto}" />
						<br/>
						<p class="etiqueta-precio-producto">Precio</p>
						<h:message for="precio-producto" styleClass="mensaje-error crear-producto-error" showSummary="true" showDetail="false"/>
						<h:inputText styleClass="precio-producto" id="precio-producto" value="#{crearProducto.precio}"  p:required="required"
									 validator="#{crearProducto.validarPrecioProducto}" />
						<p class="pesos">pesos</p>
						<br/>
						<br/>
						<span class="etiqueta-categoria">Categoria</span>
						<h:selectOneMenu value="#{crearProducto.categoria}">
							<f:selectItem itemLabel="Telefono inteligente" itemValue="TELEFONOS_INTELIGENTES"/>
							<f:selectItem itemLabel="Consolas de video juegos" itemValue="CONSOLAS_VIDEO_JUEGOS"/>
							<f:selectItem itemLabel="Tabletas" itemValue="TABLETAS"/>
						</h:selectOneMenu>
					</div>
				</div>
				<h:commandButton styleClass="boton-submit" value="Crear" action="#{crearProducto.crearProducto()}"/>
			</h:form>
		</section>
	</ui:define>
</ui:composition>