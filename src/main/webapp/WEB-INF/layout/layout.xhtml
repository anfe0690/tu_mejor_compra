<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<ui:insert name="metadata"/>

<h:head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title><ui:insert name="title">Tu mejor compra</ui:insert></title>

    <!-- Bootstrap -->
    <link href="#{request.contextPath}/resources/css/bootstrap/bootstrap.css" rel="stylesheet"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- CSS -->
    <link href="#{request.contextPath}/resources/css/layout/layout.css" rel="stylesheet"/>
    <link href="#{request.contextPath}/resources/css/layout/sesion.css" rel="stylesheet"/>
    <link href="#{request.contextPath}/resources/css/layout/header.css" rel="stylesheet"/>
    <link href="#{request.contextPath}/resources/css/layout/categorias.css" rel="stylesheet"/>
    <link href="#{request.contextPath}/resources/css/layout/footer.css" rel="stylesheet"/>
    <ui:insert name="css"/>

</h:head>
<h:body>
    <ui:debug hotkey="x"/>
    <f:view beforePhase="#{phaseLogBean.beforePhase}" afterPhase="#{phaseLogBean.afterPhase}"/>

    <div class="container">

        <ui:include src="sesion.xhtml"/>

        <div class="row">
            <div class="col-xs-12">

                <h:messages style="display: none;" />

                <c:forEach items="#{facesContext.messageList}" var="mensaje">
                    <c:choose>

                        <c:when test="#{mensaje.severity.toString().startsWith('ERROR')}">
                            <div class="alert alert-danger alert-dismissable">
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&#215;</button>
                                <h:outputText value="#{mensaje.summary}"/>
                            </div>
                        </c:when>

                        <c:when test="#{mensaje.severity.toString().startsWith('WARN')}">
                            <div class="alert alert-warning alert-dismissable">
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&#215;</button>
                                <h:outputText value="#{mensaje.summary}"/>
                            </div>
                        </c:when>

                        <c:when test="#{mensaje.severity.toString().startsWith('INFO')}">
                            <div class="alert alert-info alert-dismissable">
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&#215;</button>
                                <h:outputText value="#{mensaje.summary}"/>
                            </div>
                        </c:when>

                    </c:choose>
                </c:forEach>

            </div>
        </div>

        <!--
        <ui:include src="header.xhtml"/>
        <c:choose>
            <c:when test="#{ (view.viewId != '/perfil.xhtml')
								 and (view.viewId != '/crear_producto.xhtml')
								 and (view.viewId != '/producto.xhtml')}">
                <div class="row">
                    <ui:include src="categorias.xhtml"/>
                    <ui:insert name="content"/>
                </div>
            </c:when>
            <c:otherwise>
                <div class="row">
                    <div class="col-xs-12">
                        <ui:insert name="content"/>
                    </div>
                </div>
            </c:otherwise>
        </c:choose>
        <ui:include src="footer.xhtml"/>-->

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <h:outputScript name="js/bootstrap/bootstrap.min.js"/>
    <!--<script src="js/bootstrap.min.js"></script>-->

    <!-- Javascript layout -->
    <h:outputScript name="js/layout.js"/>
    <!-- JavaScript especifico de la pagina -->
    <ui:insert name="js"/>

</h:body>
</html>