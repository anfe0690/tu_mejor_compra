<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <p:dialog header="Contrase単as" widgetVar="dialogoContrasenas">
        <div>andres = 123</div>
        <div>carlos = 456</div>
        <div>fernando = 789</div>
    </p:dialog>

    <p:growl id="growl" sticky="true" />

    <p:panel styleClass="ui-widget-header pagina-seccion b-sesion">
        <h:form id="form-sesion">

            <c:choose>
                <c:when test="#{!sesionBean.sesionIniciada}">
                    <f:event type="postValidate" listener="#{sesionBean.validarUsuarioContrasena}"/>

                    <p:commandButton value="Contrase単as" icon="ui-icon-key" onclick="PF('dialogoContrasenas').show();"
                                     type="button"
                                     style="float: left;"/>

                    <h:outputLabel for="nombre-usuario" value="Nombre"/>
                    <p:inputText id="nombre-usuario" value="#{sesionBean.campoNombreUsuario}"/>
                    <p:watermark value="Nombre" for="nombre-usuario"/>

                    <h:outputLabel for="contrasena-usuario" value="Contrase単a"/>
                    <p:password id="contrasena-usuario" value="#{sesionBean.campoContrasena}"/>
                    <p:watermark value="Contrase単a" for="contrasena-usuario"/>

                    <p:commandButton value="Iniciar sesion" icon="ui-icon-person" ajax="false"
                                     action="#{sesionBean.iniciarSesion()}"/>
                </c:when>

                <c:otherwise>
                    <h:outputText styleClass="usuario-nombre" value="#{sesionBean.usuario.nombre}"/>
                    <c:if test="#{view.viewId != '/perfil.xhtml'}">
                        <p:link styleClass="link-perfil" outcome="perfil.xhtml" value="perfil"/>
                    </c:if>
                    <p:commandButton value="Cerrar sesion" icon="ui-icon-person" ajax="false"
                                     action="#{sesionBean.cerrarSesion()}"/>
                </c:otherwise>
            </c:choose>

        </h:form>
    </p:panel>

</ui:composition>
