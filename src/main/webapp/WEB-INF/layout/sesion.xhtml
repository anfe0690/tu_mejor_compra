<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
	<div id="sesion" class="grid_24 tema">

<!-- 		<h:form id="restaurar" rendered="#{!sesionBean.sesionIniciada}"> -->
<!-- 			<h:commandButton id="boton" value="Restaurar base de datos" action="#{sesionBean.restaurarTodosLosDatos()}" /> -->
			<!-- 		</h:form> -->

		<c:if test="#{!sesionBean.sesionIniciada}">
			<button id="contrasenas">Contraseñas</button>
		</c:if>
		<h:form id="sesion_form">
			<c:choose>

				<c:when test="#{!sesionBean.sesionIniciada}">
					<h:message for="input_sesion" styleClass="error_message" showSummary="true" showDetail="false" />
					<h:inputHidden id="input_sesion" value="vacio" />
					<h:outputLabel value="Usuario" />
					<h:message for="input_usuario" styleClass="error_message" showSummary="true" showDetail="false" />
					<h:inputText id="input_usuario" value="#{sesionBean.campoNombreUsuario}" required="true"
								 requiredMessage="*Campo obligatorio" />

					<h:outputLabel value="Contraseña" />
					<h:message for="input_contrasena" styleClass="error_message" showSummary="true" showDetail="false" />
					<h:inputSecret id="input_contrasena" value="#{sesionBean.campoContrasena}" required="true"
								   requiredMessage="*Campo obligatorio" />

					<h:commandButton id="boton_iniciar_sesion" value="Iniciar sesion" action="#{sesionBean.iniciarSesion()}" />
				</c:when>

				<c:otherwise>
					<h:outputLabel id="label_usuario" value="#{sesionBean.usuario.nombre}" />
					<c:if test="#{view.viewId != '/perfil.xhtml'}">
						<h:commandLink value="Perfil" action="perfil" style="margin: 0px 20px 0px 0px;" />
					</c:if>
					<h:commandButton value="Cerrar sesion" action="#{sesionBean.cerrarSesion()}" />
				</c:otherwise>

			</c:choose>
		</h:form>
	</div>
</ui:composition>
