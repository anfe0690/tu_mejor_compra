<ui:composition template="WEB-INF/layout/layout.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
	<ui:define name="title">Producto</ui:define>
	<ui:define name="css">
		<h:outputStylesheet library="css" name="producto.css"/>
	</ui:define>
	<ui:define name="js">
		<h:outputScript library="js" name="producto.js"/>
	</ui:define>
	<ui:define name="content">
		<f:metadata>
			<f:viewParam name="pid" value="#{productoId.id}"/>
		</f:metadata>
		<section class="b-producto">
			<h1>Producto</h1>
			<h:graphicImage value="/imgs/#{mostrarProductoBean.producto.direccionImagen}" width="400" height="400"/>
			<div class="contenedor-datos">
				<h:outputText styleClass="nombre_producto" value="#{mostrarProductoBean.producto.nombre}"/>
				<span class="etiqueta-precio-producto">Precio:</span>
				<h:outputText styleClass="precio_producto" value="#{mostrarProductoBean.producto.precio}"/>
				<c:choose >
					<c:when test="#{sesionBean.sesionIniciada}">
						<h:form id="form_cv">
							<h:commandButton styleClass="boton_comprar" id="boton_comprar" value="Comprar" action="#{mostrarProductoBean.comprar()}"/>
							<h:inputHidden id="v_nombre_contacto" value="#{mostrarProductoBean.usuarioVendedor.nombreContacto}"/>
							<h:inputHidden id="v_correo" value="#{mostrarProductoBean.usuarioVendedor.correo}"/>
							<h:inputHidden id="v_telefonos" value="#{mostrarProductoBean.usuarioVendedor.telefonos}"/>
							<h:inputHidden id="v_banco" value="#{mostrarProductoBean.usuarioVendedor.banco}"/>
							<h:inputHidden id="v_numero_cuenta" value="#{mostrarProductoBean.usuarioVendedor.numeroCuenta}"/>

							<h:inputHidden id="c_nombre_contacto" value="#{sesionBean.usuario.nombreContacto}"/>
							<h:inputHidden id="c_correo" value="#{sesionBean.usuario.correo}"/>
							<h:inputHidden id="c_telefonos" value="#{sesionBean.usuario.telefonos}"/>
						</h:form>
					</c:when>
					<c:otherwise>
						<p class="adv_iniciar_sesion">Para poder comprar es necesario iniciar sesion!</p>
					</c:otherwise>
				</c:choose>
			</div>
		</section>
	</ui:define>
</ui:composition>