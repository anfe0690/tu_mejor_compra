<ui:composition template="WEB-INF/layout/layout.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core">
	<ui:define name="title">Perfil</ui:define>
	<ui:define name="css">
		<h:outputStylesheet library="css" name="perfil.css"/>
	</ui:define>
	<ui:define name="js">
		<h:outputScript library="js" name="perfil.js"/>
	</ui:define>
	<ui:define name="content">

		<section  id="section_perfil">
			<h1>Perfil</h1>
			<div>
				<h2>Campos generales</h2>
				<p>Usuario: #{sesionController.usuario.nombre}</p>
				<p>Contacto: #{sesionController.usuario.nombreContacto}</p>
				<p>Correo: #{sesionController.usuario.correo}</p>
				<p>Telefonos: #{sesionController.usuario.telefonos}</p>
			</div>
			<div>
				<h2>Campos de comprador</h2>
				<p>Ciudad: #{sesionController.usuario.ciudad}</p>
				<p>Direccion: #{sesionController.usuario.direccion}</p>
			</div>
			<div>
				<h2>Campos de vendedor</h2>
				<p>Banco: #{sesionController.usuario.banco}</p>
				<p>Numero de cuenta: #{sesionController.usuario.numeroCuenta}</p>
			</div>
		</section>

		<section id="section_mis_productos">
			<h1>Mis productos</h1>
			<h:form id="section_mis_productos_form">
				<h:commandButton value="Crear" action="crear_producto"/>
				<h:commandButton value="Eliminar" actionListener="#{manejadorDeProductos.eliminarProductos()}" id="boton_eliminar"/>
				<h:commandButton value="Restaurar" actionListener="#{manejadorDeProductos.restaurar()}" id="boton_restaurar"/>
				<br/>
				<h:dataTable id="datatable1" value="#{manejadorDeProductos.selProductos}" var="selproducto" headerClass="perfil_tabla_titulo">
					<h:column>
						<f:facet name="header">
							<h:outputText value="Seleccion" />
						</f:facet>
						<h:selectBooleanCheckbox id="seleccion" value="#{selproducto.seleccionado}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Imagen" />
						</f:facet>
						<h:graphicImage value="/img/#{sesionController.usuario.nombre}/#{selproducto.producto.nombreImagen}" width="40" height="40"/>
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Nombre" />
						</f:facet>
						<h:outputText value="#{selproducto.producto.nombre}"/>
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Precio" />
						</f:facet>
						<h:outputText value="#{selproducto.producto.precio}"/>
					</h:column>
				</h:dataTable>
			</h:form>
		</section>

		<!-- TODO: Obtener los valores de las compras y ventas -->
		<section id="section_compras">
			<h1>Compras</h1>
			<h:dataTable id="datatable_compras" value="#{sesionController.usuario.compras}" var="compra" headerClass="perfil_tabla_titulo">
				<h:column>
					<f:facet name="header">
						<h:outputText value="Vendedor" />
					</f:facet>
					<h:outputText value="#{compra.vendedor}"/>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="IndiceProducto" />
					</f:facet>
					<h:outputText value="#{compra.indiceProducto}"/>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Estado" />
					</f:facet>
					<h:outputText value="#{compra.estado}"/>
				</h:column>
			</h:dataTable>
		</section>

		<section id="section_ventas">
			<h1>Ventas</h1>
			<h:dataTable id="datatable_ventas" value="#{sesionController.usuario.ventas}" var="venta" headerClass="perfil_tabla_titulo">
				<h:column>
					<f:facet name="header">
						<h:outputText value="Comprador" />
					</f:facet>
					<h:outputText value="#{venta.comprador}"/>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="IndiceProducto" />
					</f:facet>
					<h:outputText value="#{venta.indiceProducto}"/>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Estado" />
					</f:facet>
					<h:outputText value="#{venta.estado}"/>
				</h:column>
			</h:dataTable>
		</section>

	</ui:define>
</ui:composition>